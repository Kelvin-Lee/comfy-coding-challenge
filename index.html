<html>
   <head>
      <script>
         document.addEventListener('DOMContentLoaded', function(){
             function wordCounter(string){
                var matches = string.matchAll(/[\w']+/g),
                    dictionary = {},
                    match = matches.next();
                while(!match.done){
                   var word = match.value[0].toLowerCase();
                   if (word.length > 0){ // Guard against empty-string
                      if (dictionary[word]){
                         dictionary[word] += 1;
                      } else {
                         dictionary[word] = 1;
                      }
                   } 
                   match = matches.next();
                }
                return dictionary;
             }

             var textArea = document.getElementById('input'),
                 output = document.getElementById('output');

             textArea.addEventListener('input', function(){
                output.innerText = JSON.stringify(wordCounter(textArea.value), null, 2);
             });

         });
    
      </script>
   </head>
   <body>
      <div>
          <p>Enter your text here:</p>
          <textarea id="input" placeholder="Here"></textarea>
      </div>
      <div>
          <p>Output of counts:</p>
          <div id="output"></div>
      </div>
   </body>

</html>
